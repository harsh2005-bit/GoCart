{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Documents/Project%20Code%20%28Web%29/gocart-main/components/Counter.jsx"],"sourcesContent":["'use client'\r\nimport { addToCart, removeFromCart } from \"@/lib/features/cart/cartSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst Counter = ({ productId }) => {\r\n\r\n    const { cartItems } = useSelector(state => state.cart);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const addToCartHandler = () => {\r\n        dispatch(addToCart({ productId }))\r\n    }\r\n\r\n    const removeFromCartHandler = () => {\r\n        dispatch(removeFromCart({ productId }))\r\n    }\r\n\r\n    return (\r\n        <div className=\"inline-flex items-center gap-1 sm:gap-3 px-3 py-1 rounded border border-slate-200 max-sm:text-sm text-slate-600\">\r\n            <button onClick={removeFromCartHandler} className=\"p-1 select-none\">-</button>\r\n            <p className=\"p-1\">{cartItems[productId]}</p>\r\n            <button onClick={addToCartHandler} className=\"p-1 select-none\">+</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Counter"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAIA,MAAM,UAAU,CAAC,EAAE,SAAS,EAAE;IAE1B,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD,EAAE,CAAA,QAAS,MAAM,IAAI;IAErD,MAAM,WAAW,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD;IAE3B,MAAM,mBAAmB;QACrB,SAAS,CAAA,GAAA,oIAAA,CAAA,YAAS,AAAD,EAAE;YAAE;QAAU;IACnC;IAEA,MAAM,wBAAwB;QAC1B,SAAS,CAAA,GAAA,oIAAA,CAAA,iBAAc,AAAD,EAAE;YAAE;QAAU;IACxC;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAO,SAAS;gBAAuB,WAAU;0BAAkB;;;;;;0BACpE,8OAAC;gBAAE,WAAU;0BAAO,SAAS,CAAC,UAAU;;;;;;0BACxC,8OAAC;gBAAO,SAAS;gBAAkB,WAAU;0BAAkB;;;;;;;;;;;;AAG3E;uCAEe","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Documents/Project%20Code%20%28Web%29/gocart-main/components/AddressModal.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { XIcon } from \"lucide-react\";\r\nimport { useState } from \"react\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addAddress } from \"@/lib/features/address/addressSlice\";\r\nimport { useUser } from \"@clerk/nextjs\";\r\n\r\nconst AddressModal = ({ setShowAddressModal }) => {\r\n  const dispatch = useDispatch();\r\n  const { user } = useUser();\r\n\r\n  const [address, setAddress] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    street: \"\",\r\n    city: \"\",\r\n    state: \"\",\r\n    zip: \"\",\r\n    country: \"\",\r\n    phone: \"\",\r\n  });\r\n\r\n  const handleChange = e =>\r\n    setAddress({ ...address, [e.target.name]: e.target.value });\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    const res = await fetch(\"/api/address\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        ...address,\r\n        userId: user?.id || null,\r\n      }),\r\n    });\r\n\r\n    if (!res.ok) throw new Error(\"Failed\");\r\n\r\n    const saved = await res.json();\r\n    dispatch(addAddress(saved));\r\n    setShowAddressModal(false);\r\n  };\r\n\r\n  return (\r\n    <form\r\n      onSubmit={e =>\r\n        toast.promise(handleSubmit(e), {\r\n          loading: \"Saving address...\",\r\n          success: \"Address saved\",\r\n          error: \"Failed to save\",\r\n        })\r\n      }\r\n      className=\"fixed inset-0 z-50 bg-white/60 backdrop-blur flex items-center justify-center\"\r\n    >\r\n      <div className=\"w-full max-w-sm bg-white p-6 rounded space-y-3\">\r\n        {Object.keys(address).map(key => (\r\n          <input\r\n            key={key}\r\n            name={key}\r\n            value={address[key]}\r\n            onChange={handleChange}\r\n            placeholder={key}\r\n            className=\"w-full border p-2 rounded\"\r\n            required\r\n          />\r\n        ))}\r\n        <button className=\"w-full bg-slate-800 text-white py-2 rounded\">\r\n          Save Address\r\n        </button>\r\n      </div>\r\n\r\n      <XIcon\r\n        className=\"absolute top-5 right-5 cursor-pointer\"\r\n        onClick={() => setShowAddressModal(false)}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddressModal;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASA,MAAM,eAAe,CAAC,EAAE,mBAAmB,EAAE;IAC3C,MAAM,WAAW,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,uKAAA,CAAA,UAAO,AAAD;IAEvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QACrC,MAAM;QACN,OAAO;QACP,QAAQ;QACR,MAAM;QACN,OAAO;QACP,KAAK;QACL,SAAS;QACT,OAAO;IACT;IAEA,MAAM,eAAe,CAAA,IACnB,WAAW;YAAE,GAAG,OAAO;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IAE3D,MAAM,eAAe,OAAM;QACzB,EAAE,cAAc;QAEhB,MAAM,MAAM,MAAM,MAAM,gBAAgB;YACtC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACnB,GAAG,OAAO;gBACV,QAAQ,MAAM,MAAM;YACtB;QACF;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;QAE7B,MAAM,QAAQ,MAAM,IAAI,IAAI;QAC5B,SAAS,CAAA,GAAA,0IAAA,CAAA,aAAU,AAAD,EAAE;QACpB,oBAAoB;IACtB;IAEA,qBACE,8OAAC;QACC,UAAU,CAAA,IACR,uJAAA,CAAA,QAAK,CAAC,OAAO,CAAC,aAAa,IAAI;gBAC7B,SAAS;gBACT,SAAS;gBACT,OAAO;YACT;QAEF,WAAU;;0BAEV,8OAAC;gBAAI,WAAU;;oBACZ,OAAO,IAAI,CAAC,SAAS,GAAG,CAAC,CAAA,oBACxB,8OAAC;4BAEC,MAAM;4BACN,OAAO,OAAO,CAAC,IAAI;4BACnB,UAAU;4BACV,aAAa;4BACb,WAAU;4BACV,QAAQ;2BANH;;;;;kCAST,8OAAC;wBAAO,WAAU;kCAA8C;;;;;;;;;;;;0BAKlE,8OAAC,gMAAA,CAAA,QAAK;gBACJ,WAAU;gBACV,SAAS,IAAM,oBAAoB;;;;;;;;;;;;AAI3C;uCAEe","debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Documents/Project%20Code%20%28Web%29/gocart-main/components/OrderSummary.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { PlusIcon, SquarePenIcon, XIcon } from 'lucide-react';\r\nimport React, { useState } from 'react';\r\nimport AddressModal from './AddressModal';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport toast from 'react-hot-toast';\r\nimport { useRouter } from 'next/navigation';\r\nimport { clearCart } from '@/lib/features/cart/cartSlice';\r\n\r\nconst OrderSummary = ({ totalPrice, items }) => {\r\n  const currency = process.env.NEXT_PUBLIC_CURRENCY_SYMBOL || '$';\r\n  const router = useRouter();\r\n  const dispatch = useDispatch();\r\n\r\n  const addressList = useSelector(state => state.address.list || []);\r\n\r\n  const [paymentMethod, setPaymentMethod] = useState('COD');\r\n  const [selectedAddress, setSelectedAddress] = useState(null);\r\n  const [showAddressModal, setShowAddressModal] = useState(false);\r\n  const [couponCodeInput, setCouponCodeInput] = useState('');\r\n  const [coupon, setCoupon] = useState('');\r\n\r\n  const handleCouponCode = async (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  /* =========================\r\n     PLACE ORDER (FIXED)\r\n  ========================== */\r\n  const handlePlaceOrder = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!selectedAddress) {\r\n      toast.error('Please select an address');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      /* ---------- STRIPE FLOW ---------- */\r\n      if (paymentMethod === 'STRIPE') {\r\n        if (totalPrice < 0.50) {\r\n          toast.error('Minimum order amount for Stripe is $0.50');\r\n          return;\r\n        }\r\n        const res = await fetch('/api/create-checkout-session', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            items: items.map(item => ({\r\n              name: item.name,\r\n              price: Number(item.price),\r\n              quantity: item.quantity || 1,\r\n              image: item.images?.[0]?.src ? `${window.location.origin}${item.images[0].src}` : item.images?.[0] || '',\r\n            })),\r\n            successUrl: `${window.location.origin}/orders?success=1`,\r\n            cancelUrl: `${window.location.origin}/cart`,\r\n          }),\r\n        });\r\n\r\n        // ðŸš¨ Important: Stripe route must return JSON\r\n        const text = await res.text();\r\n\r\n        let data;\r\n        try {\r\n          data = JSON.parse(text);\r\n        } catch {\r\n          console.error('Non-JSON response:', text);\r\n          throw new Error('Stripe API returned invalid response');\r\n        }\r\n\r\n        if (!res.ok || !data.url) {\r\n          console.error('Stripe error:', data);\r\n          throw new Error(data.error || 'Stripe session creation failed');\r\n        }\r\n\r\n        // Store order data for saving after successful payment\r\n        localStorage.setItem('pendingOrder', JSON.stringify({\r\n          items,\r\n          total: totalPrice,\r\n          address: selectedAddress,\r\n          paymentMethod: 'STRIPE'\r\n        }));\r\n\r\n        window.location.href = data.url;\r\n        return;\r\n      }\r\n\r\n      /* ---------- COD FLOW ---------- */\r\n      const res = await fetch('/api/orders', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          items,\r\n          total: totalPrice,\r\n          address: selectedAddress,\r\n          paymentMethod: 'COD',\r\n        }),\r\n      });\r\n\r\n      if (!res.ok) throw new Error('COD order failed');\r\n\r\n      toast.success('Order placed successfully');\r\n      dispatch(clearCart());\r\n      router.push('/orders');\r\n\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(err.message || 'Order failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='w-full max-w-lg lg:max-w-[340px] bg-slate-50/30 border border-slate-200 text-slate-500 text-sm rounded-xl p-7'>\r\n      <h2 className='text-xl font-medium text-slate-600'>Payment Summary</h2>\r\n\r\n      <p className='text-slate-400 text-xs my-4'>Payment Method</p>\r\n\r\n      <div className='flex gap-2 items-center'>\r\n        <input\r\n          type='radio'\r\n          id='COD'\r\n          checked={paymentMethod === 'COD'}\r\n          onChange={() => setPaymentMethod('COD')}\r\n          className='accent-gray-500'\r\n        />\r\n        <label htmlFor='COD'>COD</label>\r\n      </div>\r\n\r\n      <div className='flex gap-2 items-center mt-1'>\r\n        <input\r\n          type='radio'\r\n          id='STRIPE'\r\n          checked={paymentMethod === 'STRIPE'}\r\n          onChange={() => setPaymentMethod('STRIPE')}\r\n          className='accent-gray-500'\r\n        />\r\n        <label htmlFor='STRIPE'>Stripe Payment</label>\r\n      </div>\r\n\r\n      {/* ADDRESS */}\r\n      <div className='my-4 py-4 border-y border-slate-200 text-slate-400'>\r\n        <p>Address</p>\r\n\r\n        {selectedAddress ? (\r\n          <div className='flex gap-2 items-center'>\r\n            <p>\r\n              {selectedAddress.name}, {selectedAddress.city},{' '}\r\n              {selectedAddress.state}, {selectedAddress.zip}\r\n            </p>\r\n            <SquarePenIcon\r\n              size={18}\r\n              className='cursor-pointer'\r\n              onClick={() => setSelectedAddress(null)}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            {addressList.length > 0 && (\r\n              <select\r\n                className='border border-slate-400 p-2 w-full my-3 rounded'\r\n                onChange={(e) =>\r\n                  setSelectedAddress(addressList[e.target.value])\r\n                }\r\n              >\r\n                <option value=''>Select Address</option>\r\n                {addressList.map((a, i) => (\r\n                  <option key={i} value={i}>\r\n                    {a.name}, {a.city}, {a.state}, {a.zip}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            )}\r\n\r\n            <button\r\n              className='flex items-center gap-1 text-slate-600 mt-1'\r\n              onClick={() => setShowAddressModal(true)}\r\n            >\r\n              Add Address <PlusIcon size={18} />\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* TOTAL */}\r\n      <div className='flex justify-between py-4'>\r\n        <p>Total:</p>\r\n        <p className='font-medium'>\r\n          {currency}\r\n          {coupon\r\n            ? (totalPrice - (coupon.discount / 100) * totalPrice).toFixed(2)\r\n            : totalPrice.toLocaleString()}\r\n        </p>\r\n      </div>\r\n\r\n      <button\r\n        onClick={(e) =>\r\n          toast.promise(handlePlaceOrder(e), {\r\n            loading: 'Placing order...',\r\n          })\r\n        }\r\n        className='w-full bg-slate-700 text-white py-2.5 rounded hover:bg-slate-900'\r\n      >\r\n        Place Order\r\n      </button>\r\n\r\n      {showAddressModal && (\r\n        <AddressModal setShowAddressModal={setShowAddressModal} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderSummary;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 535, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Documents/Project%20Code%20%28Web%29/gocart-main/components/PageTitle.jsx"],"sourcesContent":["'use client'\r\nimport { ArrowRightIcon } from 'lucide-react'\r\nimport Link from 'next/link'\r\n\r\nconst PageTitle = ({ heading, text, path = \"/\", linkText }) => {\r\n    return (\r\n        <div className=\"my-6\">\r\n            <h2 className=\"text-2xl font-semibold\">{heading}</h2>\r\n            <div className=\"flex items-center gap-3\">\r\n                <p className=\"text-slate-600\">{text}</p>\r\n                <Link href={path} className=\"flex items-center gap-1 text-green-500 text-sm\">\r\n                    {linkText} <ArrowRightIcon size={14} />\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PageTitle"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAIA,MAAM,YAAY,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,GAAG,EAAE,QAAQ,EAAE;IACtD,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAE,WAAU;kCAAkB;;;;;;kCAC/B,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAM;wBAAM,WAAU;;4BACvB;4BAAS;0CAAC,8OAAC,sNAAA,CAAA,iBAAc;gCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;AAKrD;uCAEe","debugId":null}},
    {"offset": {"line": 607, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/harsh/OneDrive/Documents/Project%20Code%20%28Web%29/gocart-main/app/%28public%29/cart/page.jsx"],"sourcesContent":["'use client'\r\nimport Counter from \"@/components/Counter\";\r\nimport OrderSummary from \"@/components/OrderSummary\";\r\nimport PageTitle from \"@/components/PageTitle\";\r\nimport { deleteItemFromCart } from \"@/lib/features/cart/cartSlice\";\r\nimport { Trash2Icon } from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nexport default function Cart() {\r\n\r\n    const currency = process.env.NEXT_PUBLIC_CURRENCY_SYMBOL || '$';\r\n    \r\n    const { cartItems } = useSelector(state => state.cart);\r\n    const products = useSelector(state => state.product.list);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [cartArray, setCartArray] = useState([]);\r\n    const [totalPrice, setTotalPrice] = useState(0);\r\n\r\n    const createCartArray = () => {\r\n        setTotalPrice(0);\r\n        const cartArray = [];\r\n        for (const [key, value] of Object.entries(cartItems)) {\r\n            const product = products.find(product => product.id === key);\r\n            if (product) {\r\n                cartArray.push({\r\n                    ...product,\r\n                    quantity: value,\r\n                });\r\n                setTotalPrice(prev => prev + product.price * value);\r\n            }\r\n        }\r\n        setCartArray(cartArray);\r\n    }\r\n\r\n    const handleDeleteItemFromCart = (productId) => {\r\n        dispatch(deleteItemFromCart({ productId }))\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (products.length > 0) {\r\n            createCartArray();\r\n        }\r\n    }, [cartItems, products]);\r\n\r\n    return cartArray.length > 0 ? (\r\n        <div className=\"min-h-screen mx-6 text-slate-800\">\r\n\r\n            <div className=\"max-w-7xl mx-auto \">\r\n                {/* Title */}\r\n                <PageTitle heading=\"My Cart\" text=\"items in your cart\" linkText=\"Add more\" />\r\n\r\n                <div className=\"flex items-start justify-between gap-5 max-lg:flex-col\">\r\n\r\n                    <table className=\"w-full max-w-4xl text-slate-600 table-auto\">\r\n                        <thead>\r\n                            <tr className=\"max-sm:text-sm\">\r\n                                <th className=\"text-left\">Product</th>\r\n                                <th>Quantity</th>\r\n                                <th>Total Price</th>\r\n                                <th className=\"max-md:hidden\">Remove</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                cartArray.map((item, index) => (\r\n                                    <tr key={index} className=\"space-x-2\">\r\n                                        <td className=\"flex gap-3 my-4\">\r\n                                            <div className=\"flex gap-3 items-center justify-center bg-slate-100 size-18 rounded-md\">\r\n                                                <Image src={item.images[0]?.src || item.images[0]} className=\"h-14 w-auto\" alt=\"\" width={45} height={45} />\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"max-sm:text-sm\">{item.name}</p>\r\n                                                <p className=\"text-xs text-slate-500\">{item.category}</p>\r\n                                                <p>{currency}{item.price}</p>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"text-center\">\r\n                                            <Counter productId={item.id} />\r\n                                        </td>\r\n                                        <td className=\"text-center\">{currency}{(item.price * item.quantity).toLocaleString()}</td>\r\n                                        <td className=\"text-center max-md:hidden\">\r\n                                            <button onClick={() => handleDeleteItemFromCart(item.id)} className=\" text-red-500 hover:bg-red-50 p-2.5 rounded-full active:scale-95 transition-all\">\r\n                                                <Trash2Icon size={18} />\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                    <OrderSummary totalPrice={totalPrice} items={cartArray} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    ) : (\r\n        <div className=\"min-h-[80vh] mx-6 flex items-center justify-center text-slate-400\">\r\n            <h1 className=\"text-2xl sm:text-4xl font-semibold\">Your cart is empty</h1>\r\n        </div>\r\n    )\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}